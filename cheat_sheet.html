<!DOCTYPE html>
<html lang="en">
	<title>Alon's Vim Cheat Sheet</title>
	<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
	<script type="module">
		import { render } from 'https://unpkg.com/preact@latest?module';
		import { html } from 'https://unpkg.com/htm@3.0.4/preact/index.module.js?module';
		import { useState, useEffect } from 'https://unpkg.com/preact@latest/hooks/dist/hooks.module.js?module'

		import shortcuts from './shortcuts.js';

		function App({ name }) {
		  const [shortcuts, setShortcuts] = useState({});

		  useEffect(async () => {
			  // Get shortcuts data
			  const response = await fetch(`${window.location.origin}/shortcuts.json`);
			  const newShortcuts = await response.json();
			  setShortcuts(newShortcuts);
		  }, []);

		  console.log(shortcuts);

		  return html`
		  <div class="app">
			 <h1 class="text-2xl text-center text-blue-600">Alon's Vim Cheat Sheet</h1>
			 <div class="grid grid-cols-3">
				 ${Object.entries(shortcuts).map(([keybind, desc]) => html`
					
					 <div>
						 <div class="font-mono bg-gray-200 p-4">
							 ${keybind}
						 </div>
						 - ${desc}
					 </div>
				 `)}
			 </div>
		  </div>
		  `;
		}

		render(html`<${App} />`, document.body);
	</script>
</html>
